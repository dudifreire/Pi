<ion-content [fullscreen]="true">

  <ion-grid>
    <ion-row>
      <ion-col size-md="6" offset-md="3">

        <ion-card>
          <div style="display: flex; justify-content: center;">

            <ion-card-header>
              <ion-card-title>Cadastros</ion-card-title>
            </ion-card-header>
          </div>

          <ion-card-content>
            <ion-select placeholder="Selecione o tipo de Cadastro desejado" #C (ionChange)="setTipoForm(C.value)">
              <ion-select-option placeholder="Aluno" value="aluno"> Aluno </ion-select-option>
              <ion-select-option placeholder="Categoria" value="categoria"> Categoria </ion-select-option>
            </ion-select>
            <ng-container *ngIf="tipoAluno == true;">
              <form [formGroup]="form">
                <ion-list lines="full">



                  <ion-select formControlName="categoria" placeholder="Categoria">
                    <ion-select-option name="sub9" value="sub9"> sub 9 </ion-select-option>
                    <ion-select-option name="sub11" value="sub9"> sub 11 </ion-select-option>
                    <ion-select-option name="sub13" value="sub9"> sub 13 </ion-select-option>
                    <ion-select-option name="sub16" value="sub9"> sub 16 </ion-select-option>
                  </ion-select>

                  <ion-item class="mt-2">
                    <ion-label position="stacked">Nome <ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input formControlName="nome" type="text"></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-label position="stacked">Responsavel <ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input formControlName="responsavel" type="text" required></ion-input>
                  </ion-item>
                  <ion-item>
                    <ion-label position="stacked">Telefone do Responsavel<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input placeholder="DDD + Telefone, sem caracteres especiais" formControlName="foneResponsavel"
                      type="number" required>
                    </ion-input>
                    <div class="txtErros" *ngIf="forms.fone?.errors">
                      <ion-text *ngIf="forms.fone?.errors.celInvalido" color="danger">
                        É necessario um telefone com whatsApp válido.
                      </ion-text>
                    </div>
                  </ion-item>
                  <ion-item>
                    <ion-label position="stacked">Telefone do Aluno<b></b>
                    </ion-label>
                    <ion-input formControlName="foneAluno" type="number"></ion-input>
                  </ion-item>

                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Cep<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="cep"></ion-input>
                    <ion-button (click)="getCep()" slot="end" color="success">Checar Cep </ion-button>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Rua <ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="rua"></ion-input>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Numero<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="numero"></ion-input>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Bairro<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="bairro"></ion-input>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Cidade<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="cidade"></ion-input>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">UF<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input type="text" formControlName="uf"></ion-input>
                  </ion-item>
                  <ion-item class="ion-margin-bottom">
                    <ion-label position="stacked">Data de Nascimento<ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-datetime displayFormat="DD MM YY" formControlName="date"></ion-datetime>
                  </ion-item>


                  <ion-button style="margin-top: 6px;" expand="block" (click)="submitForm()" [disabled]="form.invalid">
                    Enviar dados</ion-button>

                  <div class="ion-text-center fs-1 mt-2">
                    <ion-label color="medium">Após o envio do formulário será realizada uma validação manual do seu
                      cadastro
                    </ion-label>
                  </div>



                </ion-list>


                <!-- {{frmMain.value | json}} -->

              </form>
            </ng-container>
            <ng-container *ngIf="tipoCategoria==true;">
              <form [formGroup]="formCategoria">
                <ion-list lines="full">


                  <ion-item class="mt-2">
                    <ion-label position="stacked">Nome da Categoria <ion-text color="danger">*</ion-text>
                    </ion-label>
                    <ion-input formControlName="nome" type="text"></ion-input>
                  </ion-item>

                  <ion-select formControlName="voluntario" placeholder="Voluntario">
                    <ion-select-option *ngFor="let colaboradores of colaboradores"> Colaborador

                    </ion-select-option>

                  </ion-select>
                  <ion-card class="cardObs">
                    <ion-textarea formControlName="descricao" placeholder="Observação" >
                    </ion-textarea>
                  </ion-card>

                </ion-list>
              </form>

            </ng-container>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>